# æ‰¹é‡ç”Ÿæˆ Prompt ç¼–è¾‘ä¿®å¤

## âœ… ä¿®å¤å®Œæˆ

å·²ä¿®å¤æ‰¹é‡ç”Ÿæˆé¡µé¢ä¸­ç¼“å­˜æ•°æ®çš„ prompt æ— æ³•ç¼–è¾‘çš„é—®é¢˜ã€‚

---

## ğŸ› **é—®é¢˜æè¿°**

### ç¦ç”¨é€»è¾‘è¿‡äºä¸¥æ ¼

**åŸå§‹ä»£ç **ï¼š
```typescript
// åŸå§‹ prompt
disabled={row.status === 'generating' || row.status === 'completed'}

// å¢å¼º prompt
disabled={row.status === 'generating' || row.status === 'completed'}

// å¢å¼ºæŒ‰é’®
disabled={
  row.status === 'enhancing' ||
  row.status === 'generating' ||
  row.status === 'completed' ||  // âŒ å®Œæˆåä¹Ÿç¦ç”¨
  !row.prompt.trim()
}
```

**é—®é¢˜**ï¼š
- âŒ ç¼“å­˜æ•°æ®é€šå¸¸æœ‰ `completed` çŠ¶æ€
- âŒ ç”¨æˆ·æ— æ³•ç¼–è¾‘å·²å®Œæˆçš„ prompt
- âŒ æ— æ³•é‡æ–°å¢å¼ºå·²å®Œæˆçš„ prompt
- âŒ å¿…é¡»æ¸…é™¤æ‰€æœ‰æ•°æ®æ‰èƒ½ä¿®æ”¹

---

## âœ… **ä¿®å¤å†…å®¹**

### 1. åŸå§‹ Prompt ç¼–è¾‘

```typescript
// ä¹‹å‰
disabled={row.status === 'generating' || row.status === 'completed'}  âŒ

// ç°åœ¨
disabled={row.status === 'generating'}  âœ…
// åªåœ¨æ­£åœ¨ç”Ÿæˆæ—¶ç¦ç”¨
```

### 2. å¢å¼º Prompt ç¼–è¾‘

```typescript
// ä¹‹å‰
disabled={row.status === 'generating' || row.status === 'completed'}  âŒ

// ç°åœ¨
disabled={row.status === 'generating'}  âœ…
// åªåœ¨æ­£åœ¨ç”Ÿæˆæ—¶ç¦ç”¨
```

### 3. å¢å¼ºæŒ‰é’®

```typescript
// ä¹‹å‰
disabled={
  row.status === 'enhancing' ||
  row.status === 'generating' ||
  row.status === 'completed' ||  âŒ ç§»é™¤è¿™ä¸ªæ¡ä»¶
  !row.prompt.trim()
}

// ç°åœ¨
disabled={
  row.status === 'enhancing' ||
  row.status === 'generating' ||
  !row.prompt.trim()
}  âœ…
// å…è®¸å·²å®Œæˆçš„ä»»åŠ¡é‡æ–°å¢å¼º
```

---

## ğŸ“Š **è¡Œä¸ºå˜åŒ–å¯¹æ¯”**

### ä¿®å¤å‰

| çŠ¶æ€ | åŸå§‹ Prompt | å¢å¼º Prompt | å¢å¼ºæŒ‰é’® |
|------|-----------|-----------|---------|
| **pending** | âœ… å¯ç¼–è¾‘ | âœ… å¯ç¼–è¾‘ | âœ… å¯ç”¨ |
| **enhancing** | âœ… å¯ç¼–è¾‘ | âœ… å¯ç¼–è¾‘ | âŒ ç¦ç”¨ |
| **enhanced** | âœ… å¯ç¼–è¾‘ | âœ… å¯ç¼–è¾‘ | âœ… å¯ç”¨ |
| **generating** | âŒ ç¦ç”¨ | âŒ ç¦ç”¨ | âŒ ç¦ç”¨ |
| **completed** | âŒ ç¦ç”¨ | âŒ ç¦ç”¨ | âŒ ç¦ç”¨ |
| **failed** | âœ… å¯ç¼–è¾‘ | âœ… å¯ç¼–è¾‘ | âœ… å¯ç”¨ |

**é—®é¢˜**ï¼š
- âŒ ç¼“å­˜æ•°æ®ï¼ˆcompletedï¼‰æ— æ³•ç¼–è¾‘
- âŒ å·²å®Œæˆçš„ä»»åŠ¡æ— æ³•è°ƒæ•´å’Œé‡æ–°ç”Ÿæˆ

---

### ä¿®å¤å

| çŠ¶æ€ | åŸå§‹ Prompt | å¢å¼º Prompt | å¢å¼ºæŒ‰é’® |
|------|-----------|-----------|---------|
| **pending** | âœ… å¯ç¼–è¾‘ | âœ… å¯ç¼–è¾‘ | âœ… å¯ç”¨ |
| **enhancing** | âœ… å¯ç¼–è¾‘ | âœ… å¯ç¼–è¾‘ | âŒ ç¦ç”¨ |
| **enhanced** | âœ… å¯ç¼–è¾‘ | âœ… å¯ç¼–è¾‘ | âœ… å¯ç”¨ |
| **generating** | âŒ ç¦ç”¨ | âŒ ç¦ç”¨ | âŒ ç¦ç”¨ |
| **completed** | âœ… å¯ç¼–è¾‘ | âœ… å¯ç¼–è¾‘ | âœ… å¯ç”¨ |
| **failed** | âœ… å¯ç¼–è¾‘ | âœ… å¯ç¼–è¾‘ | âœ… å¯ç”¨ |

**æ”¹è¿›**ï¼š
- âœ… ç¼“å­˜æ•°æ®ï¼ˆcompletedï¼‰å¯ä»¥ç¼–è¾‘
- âœ… å·²å®Œæˆçš„ä»»åŠ¡å¯ä»¥è°ƒæ•´ prompt
- âœ… å¯ä»¥é‡æ–°å¢å¼ºå·²å®Œæˆçš„ prompt
- âœ… åªåœ¨æ­£åœ¨ç”Ÿæˆæ—¶ä¿æŠ¤æ•°æ®

---

## ğŸ¯ **ä½¿ç”¨åœºæ™¯**

### åœºæ™¯1ï¼šç¼–è¾‘ç¼“å­˜æ•°æ®

```
1. ç”¨æˆ·æ‰“å¼€æ‰¹é‡ç”Ÿæˆé¡µé¢
   â†“
2. çœ‹åˆ°"ğŸ“¦ å·²ä»ç¼“å­˜æ¢å¤æ•°æ®"æç¤º
   â†“
3. å‘ç°ç¬¬5è¡Œçš„ prompt æœ‰é”™åˆ«å­—
   â†“
4. ç›´æ¥ç‚¹å‡» prompt æ–‡æœ¬æ¡†ç¼–è¾‘ âœ…
   ï¼ˆä¹‹å‰ï¼šç°è‰²ç¦ç”¨ï¼Œæ— æ³•ç¼–è¾‘ âŒï¼‰
   â†“
5. ä¿®æ”¹åä¿å­˜
   â†“
6. ç»§ç»­ä½¿ç”¨æˆ–é‡æ–°ç”Ÿæˆ
```

### åœºæ™¯2ï¼šé‡æ–°å¢å¼ºå·²å®Œæˆçš„ä»»åŠ¡

```
1. æœ‰äº›ä»»åŠ¡å·²ç»å®Œæˆï¼ˆstatus: completedï¼‰
   â†“
2. ç”¨æˆ·æƒ³è¦ä¼˜åŒ–æŸä¸ªä»»åŠ¡çš„ prompt
   â†“
3. ç¼–è¾‘åŸå§‹ prompt âœ…
   â†“
4. ç‚¹å‡»"å¢å¼º"æŒ‰é’® âœ…
   ï¼ˆä¹‹å‰ï¼šæŒ‰é’®ç¦ç”¨ âŒï¼‰
   â†“
5. è·å¾—æ–°çš„å¢å¼º prompt
   â†“
6. å¯ä»¥é‡æ–°ç”Ÿæˆ
```

### åœºæ™¯3ï¼šæ­£åœ¨ç”Ÿæˆæ—¶ä¿æŠ¤æ•°æ®

```
1. ç”¨æˆ·ç‚¹å‡»"å¼€å§‹æ‰¹é‡ç”Ÿæˆ"
   â†“
2. ä»»åŠ¡æ­£åœ¨ç”Ÿæˆï¼ˆstatus: generatingï¼‰
   â†“
3. ç”¨æˆ·å°è¯•ç¼–è¾‘ prompt
   â†“
4. æ–‡æœ¬æ¡†ç¦ç”¨ï¼Œæ— æ³•ç¼–è¾‘ âœ…
   ï¼ˆä¿æŠ¤æ­£åœ¨å¤„ç†çš„æ•°æ®ï¼‰
   â†“
5. ç”Ÿæˆå®Œæˆåï¼Œæ¢å¤å¯ç¼–è¾‘ âœ…
```

---

## ğŸ”§ **æŠ€æœ¯ç»†èŠ‚**

### ç¦ç”¨æ¡ä»¶ä¼˜åŒ–

```typescript
// åŸå§‹ Prompt
disabled={row.status === 'generating'}
// åªåœ¨ç”Ÿæˆæ—¶ç¦ç”¨ï¼Œå…¶ä»–æ—¶å€™éƒ½å¯ä»¥ç¼–è¾‘

// å¢å¼º Prompt
disabled={row.status === 'generating'}
// åªåœ¨ç”Ÿæˆæ—¶ç¦ç”¨

// å¢å¼ºæŒ‰é’®
disabled={
  row.status === 'enhancing' ||   // æ­£åœ¨å¢å¼ºæ—¶ç¦ç”¨
  row.status === 'generating' ||   // æ­£åœ¨ç”Ÿæˆæ—¶ç¦ç”¨
  !row.prompt.trim()               // promptä¸ºç©ºæ—¶ç¦ç”¨
}
// ç§»é™¤äº† row.status === 'completed' âœ¨
```

### çŠ¶æ€æµè½¬

```
pending â†’ enhancing â†’ enhanced â†’ generating â†’ completed
  â†‘                                              â†“
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¯ä»¥ç¼–è¾‘å¹¶é‡æ–°å¢å¼º â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ **å®Œæ•´çš„ç¼–è¾‘æƒé™**

### åŸå§‹ Prompt å¯ç¼–è¾‘æ¡ä»¶
- âœ… pendingï¼ˆå¾…å¤„ç†ï¼‰
- âœ… enhancingï¼ˆå¢å¼ºä¸­ï¼‰
- âœ… enhancedï¼ˆå·²å¢å¼ºï¼‰
- âŒ generatingï¼ˆç”Ÿæˆä¸­ï¼‰- ç¦ç”¨ä¿æŠ¤
- âœ… completedï¼ˆå·²å®Œæˆï¼‰- å¯ä»¥é‡æ–°ç¼–è¾‘ âœ¨
- âœ… failedï¼ˆå¤±è´¥ï¼‰

### å¢å¼º Prompt å¯ç¼–è¾‘æ¡ä»¶
- âœ… ä»»ä½•æ—¶å€™ï¼ˆé™¤äº† generatingï¼‰
- âœ… åŒ…æ‹¬ completed çŠ¶æ€ âœ¨

### å¢å¼ºæŒ‰é’®å¯ç”¨æ¡ä»¶
- âœ… prompt ä¸ä¸ºç©º
- âœ… ä¸åœ¨ enhancing çŠ¶æ€
- âœ… ä¸åœ¨ generating çŠ¶æ€
- âœ… completed çŠ¶æ€ä¹Ÿå¯ç”¨ âœ¨

---

## ğŸ¯ **ç”¨æˆ·ä½“éªŒæ”¹è¿›**

### çµæ´»æ€§ â¬†ï¸
- å¯ä»¥éšæ—¶ç¼–è¾‘ promptï¼ˆé™¤äº†ç”Ÿæˆæ—¶ï¼‰
- å·²å®Œæˆçš„ä»»åŠ¡å¯ä»¥é‡æ–°ç¼–è¾‘
- å¤±è´¥çš„ä»»åŠ¡å¯ä»¥ä¿®æ”¹åé‡è¯•

### æ•ˆç‡ â¬†ï¸
- ä¸éœ€è¦æ¸…é™¤æ‰€æœ‰æ•°æ®
- å¯ä»¥é’ˆå¯¹æ€§ä¿®æ”¹æŸå‡ è¡Œ
- å¿«é€Ÿè¿­ä»£ä¼˜åŒ–

### å®‰å…¨æ€§ âœ…
- ç”Ÿæˆè¿‡ç¨‹ä¸­ç¦ç”¨ç¼–è¾‘ï¼ˆä¿æŠ¤æ•°æ®ä¸€è‡´æ€§ï¼‰
- ç”Ÿæˆå®Œæˆåæ¢å¤å¯ç¼–è¾‘ï¼ˆå…è®¸è¿­ä»£ï¼‰

---

## âœ… **ä¿®å¤éªŒè¯**

### ç¼“å­˜æ•°æ®åœºæ™¯
- [x] æœ‰ç¼“å­˜æ•°æ®æ—¶ï¼Œprompt å¯ä»¥ç‚¹å‡»ç¼–è¾‘
- [x] æœ‰ç¼“å­˜æ•°æ®æ—¶ï¼Œå¢å¼º prompt å¯ä»¥ç¼–è¾‘
- [x] æœ‰ç¼“å­˜æ•°æ®æ—¶ï¼Œå¢å¼ºæŒ‰é’®å¯ä»¥ç‚¹å‡»
- [x] ç¼–è¾‘åå¯ä»¥é‡æ–°å¢å¼º
- [x] ç¼–è¾‘åå¯ä»¥é‡æ–°ç”Ÿæˆ

### ç”Ÿæˆä¸­ä¿æŠ¤
- [x] æ­£åœ¨ç”Ÿæˆæ—¶ï¼Œprompt ç¦ç”¨
- [x] æ­£åœ¨ç”Ÿæˆæ—¶ï¼Œå¢å¼º prompt ç¦ç”¨
- [x] æ­£åœ¨ç”Ÿæˆæ—¶ï¼Œå¢å¼ºæŒ‰é’®ç¦ç”¨

### å…¶ä»–çŠ¶æ€
- [x] pending çŠ¶æ€å®Œå…¨å¯ç¼–è¾‘
- [x] enhanced çŠ¶æ€å®Œå…¨å¯ç¼–è¾‘
- [x] failed çŠ¶æ€å®Œå…¨å¯ç¼–è¾‘
- [x] æ—  lint é”™è¯¯

---

**æ›´æ–°æ—¥æœŸ**: 2024
**çŠ¶æ€**: âœ… å®Œæˆ
**é—®é¢˜**: ç¼“å­˜æ•°æ® prompt æ— æ³•ç¼–è¾‘
**ä¿®å¤**: ç§»é™¤ completed çŠ¶æ€çš„ç¦ç”¨æ¡ä»¶

